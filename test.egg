// all enemies have basic states: idle, seek, and attack. the states are defined using tagged fields

// %player.idleFOV						bot's fov
// %player.idleDrawDistance 			how far a bot can see
// %player.seekTimeout					how long a bot seeks until giving up if it hasn't seen the player
// %player.attackRange					determines how far away target has to be to trigger attack state

// %player.idleCleanup 					method that is called when we have to cleanup an idle transition
// %player.seekCleanup 					method that is called when we have to cleanup a seek transition
// %player.attackCleanup 				method that is called when we have to cleanup an attack transition
// %player.idle 						method that is called when we idle
// %player.seek 						method that is called when we seek
// %player.canFlank						method that determines if the bot can flank
// %player.onFlank						method that is called when a bot flanks
// %player.flankStopDistance			distance at which we stop flanking
// %player.attackRange					distance at which we switch to attack state
// %player.attack 						method that is called when we attack

$MD::AiIdle = 0;
$MD::AiSeek = 1;
$MD::AiAttack = 2;

function AiPlayer::onSpawn(%this, %roomIndex) {
	%this.spawnTime = getSimTime();
}

function AiPlayer::setAiState(%this, %state) {
	%this.ai = %this.schedule(33, _setAIState, %state);
}
